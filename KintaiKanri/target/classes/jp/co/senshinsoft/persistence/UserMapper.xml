<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="jp.co.senshinsoft.persistence.UserMapper">
	<select id="findEmployeeName"
		resultType="jp.co.senshinsoft.domain.User">
		SELECT
		sei
		,mei
		FROM
		user
		WHERE
		user_id=#{userId}
	</select>
	<select id="findAccountByUserId"
		resultType="jp.co.senshinsoft.domain.User">
		SELECT
		user_id
		,mail_address
		,password
		,sei
		,mei
		,admin_flg
		,pass_upd_date
		FROM
		user
		WHERE
		user_id=#{userId}
	</select>
	<select id="findEmployeeCatalog"
		resultType="jp.co.senshinsoft.domain.User">
		SELECT
			sei
			,mei
		FROM
			user
	</select>
	<select id="findSelectEmployeeId"
		resultType="String">
		SELECT
			user_id
		FROM
			user
		WHERE
			sei=#{sei}
		AND
			mei=#{mei}
	</select>
	<update id="updatePassword">
		UPDATE
			user
		SET
			password=#{newPassword}
			,pass_upd_date=CURRENT_TIMESTAMP
			,upd_user=#{updUser}
		WHERE
			user_id=#{userId}
	</update>
</mapper>
   