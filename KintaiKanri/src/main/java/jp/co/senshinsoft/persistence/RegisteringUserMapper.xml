<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
   <mapper namespace="jp.co.senshinsoft.persistence.RegisteringUserMapper">
     <select id="searchUser"
           resultType="int">
        SELECT
        COUNT(*)
        FROM
        user
        WHERE
        user_id=#{userId}
        OR
        mail_address=#{mailAddress}
      </select>
     
     <insert id="registeringUser">
          INSERT INTO user
          (user_id, mail_address, password, sei, mei, admin_flg, ins_user,
           ins_date, upd_user, upd_date)
          VALUES (#{userId}, #{mailAddress}, #{password}, #{sei}, #{mei}
                  , #{adminFlg} , 'insuser',CURRENT_TIMESTAMP, 'upduser', CURRENT_TIMESTAMP);
     </insert>
     
     
     
  </mapper>   
